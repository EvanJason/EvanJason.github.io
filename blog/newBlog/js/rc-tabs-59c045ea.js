import{b as U,g as Ce,f as j,d as E,e as ze,c as et}from"./@babel-f2e68048.js";import{r as n}from"./react-58c93dee.js";import{c as _}from"./classnames-4191e3dc.js";import{E as wt,K as Q,e as It,o as tt,d as Mt,k as Lt,v as at}from"./rc-util-492f7971.js";import{C as At}from"./rc-motion-1f7e3db8.js";import{j as m,a as le}from"./@ant-design-3072d4b7.js";import{R as nt}from"./rc-resize-observer-08c84ce6.js";import{D as Bt}from"./rc-dropdown-a198c279.js";import{E as Dt,M as Kt}from"./rc-menu-8ec3c245.js";const Te=n.exports.createContext(null);var vt=n.exports.forwardRef(function(e,t){var r=e.prefixCls,i=e.className,o=e.style,a=e.id,s=e.active,c=e.tabKey,l=e.children;return m("div",{id:a&&"".concat(a,"-panel-").concat(c),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(c),"aria-hidden":!s,style:o,className:_(r,s&&"".concat(r,"-active"),i),ref:t,children:l})}),zt=["key","forceRender","style","className"];function $t(e){var t=e.id,r=e.activeKey,i=e.animated,o=e.tabPosition,a=e.destroyInactiveTabPane,s=n.exports.useContext(Te),c=s.prefixCls,l=s.tabs,S=i.tabPane,g="".concat(c,"-tabpane");return m("div",{className:_("".concat(c,"-content-holder")),children:m("div",{className:_("".concat(c,"-content"),"".concat(c,"-content-").concat(o),U({},"".concat(c,"-content-animated"),S)),children:l.map(function(u){var y=u.key,w=u.forceRender,N=u.style,M=u.className,A=Ce(u,zt),I=y===r;return m(At,{visible:I,forceRender:w,removeOnLeave:!!a,leavedClassName:"".concat(g,"-hidden"),...i.tabPaneMotion,children:function(L,B){var V=L.style,z=L.className;return m(vt,{...A,prefixCls:g,id:t,tabKey:y,animated:S,active:I,style:j(j({},N),V),className:_(M,z),ref:B})}},y)})})})}var rt={width:0,height:0,left:0,top:0};function Ot(e,t,r){return n.exports.useMemo(function(){for(var i,o=new Map,a=t.get((i=e[0])===null||i===void 0?void 0:i.key)||rt,s=a.left+a.width,c=0;c<e.length;c+=1){var l=e[c].key,S=t.get(l);if(!S){var g;S=t.get((g=e[c-1])===null||g===void 0?void 0:g.key)||rt}var u=o.get(l)||j({},S);u.right=s-u.left-u.width,o.set(l,u)}return o},[e.map(function(i){return i.key}).join("_"),t,r])}function ot(e,t){var r=n.exports.useRef(e),i=n.exports.useState({}),o=E(i,2),a=o[1];function s(c){var l=typeof c=="function"?c(r.current):c;l!==r.current&&t(l,r.current),r.current=l,a({})}return[r.current,s]}var Wt=.1,it=.01,ge=20,st=Math.pow(.995,ge);function Ut(e,t){var r=n.exports.useState(),i=E(r,2),o=i[0],a=i[1],s=n.exports.useState(0),c=E(s,2),l=c[0],S=c[1],g=n.exports.useState(0),u=E(g,2),y=u[0],w=u[1],N=n.exports.useState(),M=E(N,2),A=M[0],I=M[1],L=n.exports.useRef();function B(x){var T=x.touches[0],d=T.screenX,k=T.screenY;a({x:d,y:k}),window.clearInterval(L.current)}function V(x){if(!!o){x.preventDefault();var T=x.touches[0],d=T.screenX,k=T.screenY;a({x:d,y:k});var p=d-o.x,h=k-o.y;t(p,h);var H=Date.now();S(H),w(H-l),I({x:p,y:h})}}function z(){if(!!o&&(a(null),I(null),A)){var x=A.x/y,T=A.y/y,d=Math.abs(x),k=Math.abs(T);if(Math.max(d,k)<Wt)return;var p=x,h=T;L.current=window.setInterval(function(){if(Math.abs(p)<it&&Math.abs(h)<it){window.clearInterval(L.current);return}p*=st,h*=st,t(p*ge,h*ge)},ge)}}var P=n.exports.useRef();function C(x){var T=x.deltaX,d=x.deltaY,k=0,p=Math.abs(T),h=Math.abs(d);p===h?k=P.current==="x"?T:d:p>h?(k=T,P.current="x"):(k=d,P.current="y"),t(-k,-k)&&x.preventDefault()}var $=n.exports.useRef(null);$.current={onTouchStart:B,onTouchMove:V,onTouchEnd:z,onWheel:C},n.exports.useEffect(function(){function x(p){$.current.onTouchStart(p)}function T(p){$.current.onTouchMove(p)}function d(p){$.current.onTouchEnd(p)}function k(p){$.current.onWheel(p)}return document.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("touchend",d,{passive:!1}),e.current.addEventListener("touchstart",x,{passive:!1}),e.current.addEventListener("wheel",k),function(){document.removeEventListener("touchmove",T),document.removeEventListener("touchend",d)}},[])}function pt(e){var t=n.exports.useState(0),r=E(t,2),i=r[0],o=r[1],a=n.exports.useRef(0),s=n.exports.useRef();return s.current=e,wt(function(){var c;(c=s.current)===null||c===void 0||c.call(s)},[i]),function(){a.current===i&&(a.current+=1,o(a.current))}}function Vt(e){var t=n.exports.useRef([]),r=n.exports.useState({}),i=E(r,2),o=i[1],a=n.exports.useRef(typeof e=="function"?e():e),s=pt(function(){var l=a.current;t.current.forEach(function(S){l=S(l)}),t.current=[],a.current=l,o({})});function c(l){t.current.push(l),s()}return[a.current,c]}var ct={width:0,height:0,left:0,top:0,right:0};function Ft(e,t,r,i,o,a,s){var c=s.tabs,l=s.tabPosition,S=s.rtl,g,u,y;return["top","bottom"].includes(l)?(g="width",u=S?"right":"left",y=Math.abs(r)):(g="height",u="top",y=-r),n.exports.useMemo(function(){if(!c.length)return[0,0];for(var w=c.length,N=w,M=0;M<w;M+=1){var A=e.get(c[M].key)||ct;if(A[u]+A[g]>y+t){N=M-1;break}}for(var I=0,L=w-1;L>=0;L-=1){var B=e.get(c[L].key)||ct;if(B[u]<y){I=L+1;break}}return[I,N]},[e,t,i,o,a,y,l,c.map(function(w){return w.key}).join("_"),S])}function lt(e){var t;return e instanceof Map?(t={},e.forEach(function(r,i){t[i]=r})):t=e,JSON.stringify(t)}var jt="TABS_DQ";function bt(e){return String(e).replace(/"/g,jt)}function _t(e,t){var r=e.prefixCls,i=e.editable,o=e.locale,a=e.style;return!i||i.showAdd===!1?null:m("button",{ref:t,type:"button",className:"".concat(r,"-nav-add"),style:a,"aria-label":(o==null?void 0:o.addAriaLabel)||"Add tab",onClick:function(c){i.onEdit("add",{event:c})},children:i.addIcon||"+"})}const mt=n.exports.forwardRef(_t);var ut=n.exports.forwardRef(function(e,t){var r=e.position,i=e.prefixCls,o=e.extra;if(!o)return null;var a,s={};return ze(o)==="object"&&!n.exports.isValidElement(o)?s=o:s.right=o,r==="right"&&(a=s.right),r==="left"&&(a=s.left),a?m("div",{className:"".concat(i,"-extra-content"),ref:t,children:a}):null});function Ht(e,t){var r=e.prefixCls,i=e.id,o=e.tabs,a=e.locale,s=e.mobile,c=e.moreIcon,l=c===void 0?"More":c,S=e.moreTransitionName,g=e.style,u=e.className,y=e.editable,w=e.tabBarGutter,N=e.rtl,M=e.removeAriaLabel,A=e.onTabClick,I=e.getPopupContainer,L=e.popupClassName,B=n.exports.useState(!1),V=E(B,2),z=V[0],P=V[1],C=n.exports.useState(null),$=E(C,2),x=$[0],T=$[1],d="".concat(i,"-more-popup"),k="".concat(r,"-dropdown"),p=x!==null?"".concat(d,"-").concat(x):null,h=a==null?void 0:a.dropdownAriaLabel;function H(f,D){f.preventDefault(),f.stopPropagation(),y.onEdit("remove",{key:D,event:f})}var ue=m(Dt,{onClick:function(D){var G=D.key,W=D.domEvent;A(G,W),P(!1)},prefixCls:"".concat(k,"-menu"),id:d,tabIndex:-1,role:"listbox","aria-activedescendant":p,selectedKeys:[x],"aria-label":h!==void 0?h:"expanded dropdown",children:o.map(function(f){var D=y&&f.closable!==!1&&!f.disabled;return le(Kt,{id:"".concat(d,"-").concat(f.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(f.key),disabled:f.disabled,children:[m("span",{children:f.label}),D&&m("button",{type:"button","aria-label":M||"remove",tabIndex:0,className:"".concat(k,"-menu-item-remove"),onClick:function(W){W.stopPropagation(),H(W,f.key)},children:f.closeIcon||y.removeIcon||"\xD7"})]},f.key)})});function q(f){for(var D=o.filter(function(oe){return!oe.disabled}),G=D.findIndex(function(oe){return oe.key===x})||0,W=D.length,J=0;J<W;J+=1){G=(G+f+W)%W;var se=D[G];if(!se.disabled){T(se.key);return}}}function F(f){var D=f.which;if(!z){[Q.DOWN,Q.SPACE,Q.ENTER].includes(D)&&(P(!0),f.preventDefault());return}switch(D){case Q.UP:q(-1),f.preventDefault();break;case Q.DOWN:q(1),f.preventDefault();break;case Q.ESC:P(!1);break;case Q.SPACE:case Q.ENTER:x!==null&&A(x,f);break}}n.exports.useEffect(function(){var f=document.getElementById(p);f&&f.scrollIntoView&&f.scrollIntoView(!1)},[x]),n.exports.useEffect(function(){z||T(null)},[z]);var Z=U({},N?"marginRight":"marginLeft",w);o.length||(Z.visibility="hidden",Z.order=1);var de=_(U({},"".concat(k,"-rtl"),N)),re=s?null:m(Bt,{prefixCls:k,overlay:ue,trigger:["hover"],visible:o.length?z:!1,transitionName:S,onVisibleChange:P,overlayClassName:_(de,L),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:I,children:m("button",{type:"button",className:"".concat(r,"-nav-more"),style:Z,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":d,id:"".concat(i,"-more"),"aria-expanded":z,onKeyDown:F,children:l})});return le("div",{className:_("".concat(r,"-nav-operations"),u),style:g,ref:t,children:[re,m(mt,{prefixCls:r,locale:a,editable:y})]})}const Gt=n.exports.memo(n.exports.forwardRef(Ht),function(e,t){return t.tabMoving});function Xt(e){var t,r=e.prefixCls,i=e.id,o=e.active,a=e.tab,s=a.key,c=a.label,l=a.disabled,S=a.closeIcon,g=e.closable,u=e.renderWrapper,y=e.removeAriaLabel,w=e.editable,N=e.onClick,M=e.onFocus,A=e.style,I="".concat(r,"-tab"),L=w&&g!==!1&&!l;function B(P){l||N(P)}function V(P){P.preventDefault(),P.stopPropagation(),w.onEdit("remove",{key:s,event:P})}var z=le("div",{"data-node-key":bt(s),className:_(I,(t={},U(t,"".concat(I,"-with-remove"),L),U(t,"".concat(I,"-active"),o),U(t,"".concat(I,"-disabled"),l),t)),style:A,onClick:B,children:[m("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(s),className:"".concat(I,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(s),"aria-disabled":l,tabIndex:l?null:0,onClick:function(C){C.stopPropagation(),B(C)},onKeyDown:function(C){[Q.SPACE,Q.ENTER].includes(C.which)&&(C.preventDefault(),B(C))},onFocus:M,children:c}),L&&m("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(I,"-remove"),onClick:function(C){C.stopPropagation(),V(C)},children:S||w.removeIcon||"\xD7"})]},s);return u?u(z):z}var ce=function(t){var r=t.current||{},i=r.offsetWidth,o=i===void 0?0:i,a=r.offsetHeight,s=a===void 0?0:a;return[o,s]},Se=function(t,r){return t[r?0:1]};function Yt(e,t){var r,i=n.exports.useContext(Te),o=i.prefixCls,a=i.tabs,s=e.className,c=e.style,l=e.id,S=e.animated,g=e.activeKey,u=e.rtl,y=e.extra,w=e.editable,N=e.locale,M=e.tabPosition,A=e.tabBarGutter,I=e.children,L=e.onTabClick,B=e.onTabScroll,V=n.exports.useRef(),z=n.exports.useRef(),P=n.exports.useRef(),C=n.exports.useRef(),$=n.exports.useRef(),x=n.exports.useRef(),T=n.exports.useRef(),d=M==="top"||M==="bottom",k=ot(0,function(b,v){d&&B&&B({direction:b>v?"left":"right"})}),p=E(k,2),h=p[0],H=p[1],ue=ot(0,function(b,v){!d&&B&&B({direction:b>v?"top":"bottom"})}),q=E(ue,2),F=q[0],Z=q[1],de=n.exports.useState([0,0]),re=E(de,2),f=re[0],D=re[1],G=n.exports.useState([0,0]),W=E(G,2),J=W[0],se=W[1],oe=n.exports.useState([0,0]),fe=E(oe,2),ke=fe[0],Re=fe[1],Ee=n.exports.useState([0,0]),ve=E(Ee,2),Ne=ve[0],Pe=ve[1],R=Vt(new Map),ee=E(R,2),pe=ee[0],ht=ee[1],he=Ot(a,pe,J[0]),we=Se(f,d),be=Se(J,d),Ie=Se(ke,d),$e=Se(Ne,d),Oe=we<be+Ie,X=Oe?we-$e:we-Ie,xt="".concat(o,"-nav-operations-hidden"),te=0,ie=0;d&&u?(te=0,ie=Math.max(0,be-X)):(te=Math.min(0,X-be),ie=0);function Me(b){return b<te?te:b>ie?ie:b}var We=n.exports.useRef(),yt=n.exports.useState(),Ue=E(yt,2),xe=Ue[0],Ve=Ue[1];function Le(){Ve(Date.now())}function Ae(){window.clearTimeout(We.current)}Ut(C,function(b,v){function K(O,ne){O(function(Y){var Pt=Me(Y+ne);return Pt})}return Oe?(d?K(H,b):K(Z,v),Ae(),Le(),!0):!1}),n.exports.useEffect(function(){return Ae(),xe&&(We.current=window.setTimeout(function(){Ve(0)},100)),Ae},[xe]);var St=Ft(he,X,d?h:F,be,Ie,$e,j(j({},e),{},{tabs:a})),Fe=E(St,2),gt=Fe[0],Ct=Fe[1],je=It(function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,v=he.get(b)||{width:0,height:0,left:0,right:0,top:0};if(d){var K=h;u?v.right<h?K=v.right:v.right+v.width>h+X&&(K=v.right+v.width-X):v.left<-h?K=-v.left:v.left+v.width>-h+X&&(K=-(v.left+v.width-X)),Z(0),H(Me(K))}else{var O=F;v.top<-F?O=-v.top:v.top+v.height>-F+X&&(O=-(v.top+v.height-X)),H(0),Z(Me(O))}}),ye={};M==="top"||M==="bottom"?ye[u?"marginRight":"marginLeft"]=A:ye.marginTop=A;var _e=a.map(function(b,v){var K=b.key;return m(Xt,{id:l,prefixCls:o,tab:b,style:v===0?void 0:ye,closable:b.closable,editable:w,active:K===g,renderWrapper:I,removeAriaLabel:N==null?void 0:N.removeAriaLabel,onClick:function(ne){L(K,ne)},onFocus:function(){je(K),Le(),C.current&&(u||(C.current.scrollLeft=0),C.current.scrollTop=0)}},K)}),He=function(){return ht(function(){var v=new Map;return a.forEach(function(K){var O,ne=K.key,Y=(O=$.current)===null||O===void 0?void 0:O.querySelector('[data-node-key="'.concat(bt(ne),'"]'));Y&&v.set(ne,{width:Y.offsetWidth,height:Y.offsetHeight,left:Y.offsetLeft,top:Y.offsetTop})}),v})};n.exports.useEffect(function(){He()},[a.map(function(b){return b.key}).join("_")]);var Be=pt(function(){var b=ce(V),v=ce(z),K=ce(P);D([b[0]-v[0]-K[0],b[1]-v[1]-K[1]]);var O=ce(T);Re(O);var ne=ce(x);Pe(ne);var Y=ce($);se([Y[0]-O[0],Y[1]-O[1]]),He()}),Tt=a.slice(0,gt),kt=a.slice(Ct+1),Ge=[].concat(et(Tt),et(kt)),Rt=n.exports.useState(),Xe=E(Rt,2),Et=Xe[0],Nt=Xe[1],ae=he.get(g),Ye=n.exports.useRef();function Qe(){tt.cancel(Ye.current)}n.exports.useEffect(function(){var b={};return ae&&(d?(u?b.right=ae.right:b.left=ae.left,b.width=ae.width):(b.top=ae.top,b.height=ae.height)),Qe(),Ye.current=tt(function(){Nt(b)}),Qe},[ae,d,u]),n.exports.useEffect(function(){je()},[g,te,ie,lt(ae),lt(he),d]),n.exports.useEffect(function(){Be()},[u]);var Ze=!!Ge.length,me="".concat(o,"-nav-wrap"),De,Ke,qe,Je;return d?u?(Ke=h>0,De=h!==ie):(De=h<0,Ke=h!==te):(qe=F<0,Je=F!==te),m(nt,{onResize:Be,children:le("div",{ref:Mt(t,V),role:"tablist",className:_("".concat(o,"-nav"),s),style:c,onKeyDown:function(){Le()},children:[m(ut,{ref:z,position:"left",extra:y,prefixCls:o}),m("div",{className:_(me,(r={},U(r,"".concat(me,"-ping-left"),De),U(r,"".concat(me,"-ping-right"),Ke),U(r,"".concat(me,"-ping-top"),qe),U(r,"".concat(me,"-ping-bottom"),Je),r)),ref:C,children:m(nt,{onResize:Be,children:le("div",{ref:$,className:"".concat(o,"-nav-list"),style:{transform:"translate(".concat(h,"px, ").concat(F,"px)"),transition:xe?"none":void 0},children:[_e,m(mt,{ref:T,prefixCls:o,locale:N,editable:w,style:j(j({},_e.length===0?void 0:ye),{},{visibility:Ze?"hidden":null})}),m("div",{className:_("".concat(o,"-ink-bar"),U({},"".concat(o,"-ink-bar-animated"),S.inkBar)),style:Et})]})})}),m(Gt,{...e,removeAriaLabel:N==null?void 0:N.removeAriaLabel,ref:x,prefixCls:o,tabs:Ge,className:!Ze&&xt,tabMoving:!!xe}),m(ut,{ref:P,position:"right",extra:y,prefixCls:o})]})})}const dt=n.exports.forwardRef(Yt);var Qt=["renderTabBar"],Zt=["label","key"];function qt(e){var t=e.renderTabBar,r=Ce(e,Qt),i=n.exports.useContext(Te),o=i.tabs;if(t){var a=j(j({},r),{},{panes:o.map(function(s){var c=s.label,l=s.key,S=Ce(s,Zt);return m(vt,{tab:c,tabKey:l,...S},l)})});return t(a,dt)}return m(dt,{...r})}function Jt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=j({inkBar:!0},ze(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var ea=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],ft=0;function ta(e,t){var r,i=e.id,o=e.prefixCls,a=o===void 0?"rc-tabs":o,s=e.className,c=e.items,l=e.direction,S=e.activeKey,g=e.defaultActiveKey,u=e.editable,y=e.animated,w=e.tabPosition,N=w===void 0?"top":w,M=e.tabBarGutter,A=e.tabBarStyle,I=e.tabBarExtraContent,L=e.locale,B=e.moreIcon,V=e.moreTransitionName,z=e.destroyInactiveTabPane,P=e.renderTabBar,C=e.onChange,$=e.onTabClick,x=e.onTabScroll,T=e.getPopupContainer,d=e.popupClassName,k=Ce(e,ea),p=n.exports.useMemo(function(){return(c||[]).filter(function(R){return R&&ze(R)==="object"&&"key"in R})},[c]),h=l==="rtl",H=Jt(y),ue=n.exports.useState(!1),q=E(ue,2),F=q[0],Z=q[1];n.exports.useEffect(function(){Z(Lt())},[]);var de=at(function(){var R;return(R=p[0])===null||R===void 0?void 0:R.key},{value:S,defaultValue:g}),re=E(de,2),f=re[0],D=re[1],G=n.exports.useState(function(){return p.findIndex(function(R){return R.key===f})}),W=E(G,2),J=W[0],se=W[1];n.exports.useEffect(function(){var R=p.findIndex(function(pe){return pe.key===f});if(R===-1){var ee;R=Math.max(0,Math.min(J,p.length-1)),D((ee=p[R])===null||ee===void 0?void 0:ee.key)}se(R)},[p.map(function(R){return R.key}).join("_"),f,J]);var oe=at(null,{value:i}),fe=E(oe,2),ke=fe[0],Re=fe[1];n.exports.useEffect(function(){i||(Re("rc-tabs-".concat(ft)),ft+=1)},[]);function Ee(R,ee){$==null||$(R,ee);var pe=R!==f;D(R),pe&&(C==null||C(R))}var ve={id:ke,activeKey:f,animated:H,tabPosition:N,rtl:h,mobile:F},Ne,Pe=j(j({},ve),{},{editable:u,locale:L,moreIcon:B,moreTransitionName:V,tabBarGutter:M,onTabClick:Ee,onTabScroll:x,extra:I,style:A,panes:null,getPopupContainer:T,popupClassName:d});return m(Te.Provider,{value:{tabs:p,prefixCls:a},children:le("div",{ref:t,id:i,className:_(a,"".concat(a,"-").concat(N),(r={},U(r,"".concat(a,"-mobile"),F),U(r,"".concat(a,"-editable"),u),U(r,"".concat(a,"-rtl"),h),r),s),...k,children:[Ne,m(qt,{...Pe,renderTabBar:P}),m($t,{destroyInactiveTabPane:z,...ve,animated:H})]})})}var da=n.exports.forwardRef(ta);export{da as F};
