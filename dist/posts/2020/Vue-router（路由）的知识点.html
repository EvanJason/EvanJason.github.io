<!doctype html><html class="" data-reactroot=""><head><link rel="shortcut icon" href="https://willern.gitee.io/img/favicon.ico"/>
<meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="description" content="前端技术讨论交流，知识杂谈，生活分享。"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" property="og:title" content="Vue-router（路由）的知识点 · 深海如梦的作战实践基地"/><meta data-react-helmet="true" property="og:description" content="前端技术讨论交流，知识杂谈，生活分享。"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary"/>
<title data-react-helmet="true">Vue-router（路由）的知识点 · 深海如梦的作战实践基地</title>
<link data-react-helmet="true" rel="stylesheet" href="/assets/index.css"/><link data-react-helmet="true" id="prismTheme" rel="stylesheet" href="/assets/prism.css"/>
<script data-react-helmet="true" >
    const shouldSetIsDark = document.cookie.includes('is_dark=1') ? true : document.cookie.includes('is_dark=0') ? false : window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (shouldSetIsDark) {
      document.documentElement.classList.add('is_dark');
      document.getElementById('prismTheme').href = "/assets/prism_tomorrow.css";
    }
  </script>
</head><body><a class="czs-menu-l show_on_mobile aside_button_open" href="#" style="background-image:url(&quot;/assets/czs-menu-l.svg&quot;)"></a><a class="show_on_mobile aside_button_text" href="/">深海如梦的作战实践基地</a><aside class="hide_on_mobile"><div class="aside_card"><a class="czs-menu-l show_on_mobile aside_button_close" href="#" style="background-image:url(&quot;/assets/czs-close-l.svg&quot;)"></a><h1><a href="/">深海如梦的作战实践基地</a></h1><p class="description">前端技术讨论交流，知识杂谈，生活分享。</p><ul class="social list_style_none"><li class="flex_center"><a class="czs-github-logo" href="https://github.com/yourhug" target="_blank" style="background-image:url(&quot;/assets/czs-github-logo.svg&quot;)"></a></li><li class="flex_center"><a class="czs-message-l" href="mailto:linkenmum@163.com" target="_blank" style="background-image:url(&quot;/assets/czs-message-l.svg&quot;)"></a></li><li style="flex-grow:1"></li><li class="toggle_dark flex_center"><span class="czs-sun" style="background-image:url(&quot;/assets/czs-sun.svg&quot;)"></span><span class="czs-sun-l" style="background-image:url(&quot;/assets/czs-sun-l.svg&quot;)"></span><span class="czs-moon" style="background-image:url(&quot;/assets/czs-moon.svg&quot;)"></span><span class="czs-moon-l" style="background-image:url(&quot;/assets/czs-moon-l.svg&quot;)"></span></li></ul><nav><ul class="menu list_style_none"><li><a class="flex_center" href="/"><span class="czs-home-l" style="background-image:url(&quot;/assets/czs-home-l.svg&quot;)"></span>首页</a></li><li><a class="flex_center" href="/categories/"><span class="czs-category-l" style="background-image:url(&quot;/assets/czs-category-l.svg&quot;)"></span>分类</a></li><li><a class="flex_center" href="/tags/"><span class="czs-tag-l" style="background-image:url(&quot;/assets/czs-tag-l.svg&quot;)"></span>标签</a></li><li><a class="flex_center" href="/about/"><span class="czs-about-l" style="background-image:url(&quot;/assets/czs-about-l.svg&quot;)"></span>关于</a></li><li><a class="flex_center" href="/archives/"><span class="czs-box-l" style="background-image:url(&quot;/assets/czs-box-l.svg&quot;)"></span>归档</a></li><li><a class="flex_center" href="/links/"><span class="czs-link-l" style="background-image:url(&quot;/assets/czs-link-l.svg&quot;)"></span>友情链接</a></li></ul></nav></div><nav class="toc"><ol><li><a href="#%E4%B8%80%E5%AE%89%E8%A3%85">一、安装</a></li><li><a href="#%E4%BA%8C%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6">二、创建组件</a></li><li><a href="#%E4%B8%89router-link%E5%88%B6%E4%BD%9C%E5%AF%BC%E8%88%AA">三、router-link制作导航</a></li><li><a href="#%E5%9B%9B%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B7%AF%E7%94%B1">四、自定义路由</a></li><li><a href="#%E4%BA%94%E8%A1%A5%E5%85%85">五、补充</a></li></ol></nav></aside><section class="main"><h1>Vue-router（路由）的知识点</h1><div class="main_post_meta"><time dateTime="2020/05/01">2020-05-01</time> · <!-- -->深海如梦</div><article><h2 id="%E4%B8%80%E5%AE%89%E8%A3%85">一、安装<a class="anchor" href="#%E4%B8%80%E5%AE%89%E8%A3%85">§</a></h2>
<p>如果你用vue-cli脚手架来搭建项目，配置过程会选择是否用到路由（详细见vue-cli 脚手架），如果选择y，后面下载依赖会自动下载vue-router。
这里还是说一下安装：npm install vue-router</p>
<h2 id="%E4%BA%8C%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6">二、创建组件<a class="anchor" href="#%E4%BA%8C%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6">§</a></h2>
<p>如果在一个模块化工程中使用它，必须要通过 Vue.use() 明确地安装路由功能，在项目目录结构中，src文件目录下会有一个router文件夹，此处就是编写路由组件的地方。在src/router/index.js，这个文件就是路由的核心文件：</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span> <span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span> <span class="token comment">//引入vue-router</span>
<span class="token comment">// 设置路由</span>
<span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">'./routerConfig'</span>  <span class="token comment">//引入同目录下的自定义路由</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span> <span class="token comment">//Vue全局使用Router</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//大家都知道，路由地址都是以"#"形式展示，但是有些时候，我们又希望路由地址中不出现"#"，</span>
  <span class="token comment">//那怎么办呢？  vue给我们提供了一个属性mode="history";代码如下</span>
  mode<span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span> 
  <span class="token comment">//自定义路由</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="%E4%B8%89router-link%E5%88%B6%E4%BD%9C%E5%AF%BC%E8%88%AA">三、router-link制作导航<a class="anchor" href="#%E4%B8%89router-link%E5%88%B6%E4%BD%9C%E5%AF%BC%E8%88%AA">§</a></h2>
<ol>
<li>
<p>router-link 是一个组件，它默认会被渲染成一个带有链接的a标签，通过to属性指定链接地址。
注意：被选中的router-link将自动添加一个class属性值.router-link-active。
例：我们在App.vue中添加2个导航（你需要在components下创建2个vue文件）</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/First<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span> |
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/About<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>关于<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre>
</li>
<li>
<p>router-view 用于渲染匹配到的组件。</p>
<p>可以给router-view组件设置transition过渡（<a href="https://cn.vuejs.org/v2/guide/transitions.html">Vue2.0 Transition常见用法全解惑</a>）。</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fade<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
</code></pre>
<p><strong>css过渡类名：</strong>
组件过渡过程中，会有四个CSS类名进行切换，这四个类名与transition的name属性有关，比如name=“fade”,会有如下四个CSS类名：</p>
<p><code>fade-enter:进入过渡的开始状态，元素被插入时生效，只应用一帧后立刻删除。</code></p>
<p><code>fade-enter-active:进入过渡的结束状态，元素被插入时就生效，在过渡过程完成后移除。</code></p>
<p><code>fade-leave:离开过渡的开始状态，元素被删除时触发，只应用一帧后立刻删除。</code></p>
<p><code>fade-leave-active:离开过渡的结束状态，元素被删除时生效，离开过渡完成后被删除。</code></p>
<p>从上面四个类名可以看出，<strong>fade-enter-active和fade-leave-active</strong>在整个进入或离开过程中都有效，所以CSS的transition属性在这两个类下进行设置。</p>
<p><strong>过渡模式mode：</strong></p>
<ul>
<li>in-out(mode默认in-out模式）：新元素先进入过渡，完成之后当前元素过渡离开。</li>
<li>out-in：当前元素先进行过渡离开，离开完成后新元素过渡进入。</li>
</ul>
<p>还可以配合使用，<strong>keep-alive</strong>可以缓存数据，这样不至于重新渲染路由组件的时候，之前那个路由组件的数据被清除了。比如对当前的路由组件a进行了一些DOM操作之后，点击进入另一个路由组件b，再回到路由组件a的时候之前的DOM操作还保存在，如果不加keep-alive再回到路由组件a时，之前的DOM操作就没有了，得重新进行。如果你的应用里有一个购物车组件，就需要用到keep-alive。</p>
</li>
</ol>
<h2 id="%E5%9B%9B%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B7%AF%E7%94%B1">四、自定义路由<a class="anchor" href="#%E5%9B%9B%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B7%AF%E7%94%B1">§</a></h2>
<p>因为我们是自定义的路由所在我们需要在router文件夹下新建一个routerConfig.js的文件
然后填入引用的路由文件和相关参数，代码如下：</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> First <span class="token keyword">from</span> <span class="token string">'@/components/First'</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'@/components/About'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span> <span class="token comment">// 导出路由配置</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/First'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'First'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> First
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/About'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> About
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">'/First'</span> <span class="token comment">// 默认指定页面首页</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
<p>最后保存，然后 npm run dev 就可以看到可以切换不同的页面了</p>
<h2 id="%E4%BA%94%E8%A1%A5%E5%85%85">五、补充<a class="anchor" href="#%E4%BA%94%E8%A1%A5%E5%85%85">§</a></h2>
<p><a href="https://router.vuejs.org/zh/api/#router-link">官方文档</a></p></article></section><footer>Powered by&amp;nbsp;<a href="https://github.com/xcatliu/pagic" target="_blank">Pagic</a></footer><script src="https://cdn.pagic.org/react@16.13.1/umd/react.production.min.js"></script><script src="https://cdn.pagic.org/react-dom@16.13.1/umd/react-dom.production.min.js"></script><script type="module" src="/index.js"></script></body></html>