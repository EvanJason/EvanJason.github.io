"use strict";(self.webpackChunklwl_docusaurus_website=self.webpackChunklwl_docusaurus_website||[]).push([[4903],{3905:(n,e,t)=>{t.d(e,{Zo:()=>c,kt:()=>p});var r=t(7294);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function o(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var s=r.createContext({}),d=function(n){var e=r.useContext(s),t=e;return n&&(t="function"==typeof n?n(e):l(l({},e),n)),t},c=function(n){var e=d(n.components);return r.createElement(s.Provider,{value:e},n.children)},u="mdxType",g={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},f=r.forwardRef((function(n,e){var t=n.components,a=n.mdxType,i=n.originalType,s=n.parentName,c=o(n,["components","mdxType","originalType","parentName"]),u=d(t),f=a,p=u["".concat(s,".").concat(f)]||u[f]||g[f]||i;return t?r.createElement(p,l(l({ref:e},c),{},{components:t})):r.createElement(p,l({ref:e},c))}));function p(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var i=t.length,l=new Array(i);l[0]=f;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=n,o[u]="string"==typeof n?n:a,l[1]=o;for(var d=2;d<i;d++)l[d]=t[d];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},5352:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>g,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var r=t(7462),a=(t(7294),t(3905));const i={title:"antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd",categories:["antd","Angular"],tags:["antd","\u7a7f\u68ad\u6846","\u8868\u683c"],date:"2021-05-15",author:"\u6df1\u6d77\u5982\u68a6",excerpt:"angular-antd\u7a7f\u68ad\u6846\u529f\u80fd\u5b9e\u73b0"},l="antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd",o={unversionedId:"Angular/antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd",id:"Angular/antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd",title:"antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd",description:"html",source:"@site/docs/Angular/antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd.md",sourceDirName:"Angular",slug:"/Angular/antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd",permalink:"/docs/Angular/antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd",draft:!1,editUrl:"https://github.com/EvanJason/EvanJason.github.io/tree/main/docs/Angular/antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd.md",tags:[{label:"antd",permalink:"/docs/tags/antd"},{label:"\u7a7f\u68ad\u6846",permalink:"/docs/tags/\u7a7f\u68ad\u6846"},{label:"\u8868\u683c",permalink:"/docs/tags/\u8868\u683c"}],version:"current",frontMatter:{title:"antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd",categories:["antd","Angular"],tags:["antd","\u7a7f\u68ad\u6846","\u8868\u683c"],date:"2021-05-15",author:"\u6df1\u6d77\u5982\u68a6",excerpt:"angular-antd\u7a7f\u68ad\u6846\u529f\u80fd\u5b9e\u73b0"},sidebar:"tutorialSidebar",previous:{title:"Angular\u8868\u683c\u81ea\u5b9a\u4e49\u5217\u914d\u7f6e",permalink:"/docs/Angular/Angular\u8868\u683c\u81ea\u5b9a\u4e49\u5217\u914d\u7f6e"},next:{title:"\u4f7f\u7528 Angular RouteReuseStrategy \u7f13\u5b58\u7ec4\u4ef6",permalink:"/docs/Angular/\u4f7f\u7528 Angular RouteReuseStrategy \u7f13\u5b58\u7ec4\u4ef6"}},s={},d=[{value:"html",id:"html",level:4}],c={toc:d},u="wrapper";function g(n){let{components:e,...t}=n;return(0,a.kt)(u,(0,r.Z)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd"},"antd\u8868\u683c\u7a7f\u68ad\u6846\u529f\u80fd"),(0,a.kt)("h4",{id:"html"},"html"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<div class="layout" style="background: #ffffff;padding: 0 10px 10px;">\n\n  <nz-form-item style="padding: 20px 0;">\n    <nz-form-label [nzSm]="2" [nzXs]="24">\u5173\u8054\u77e5\u8bc6</nz-form-label>\n    <div nz-col [nzSm]="12" [nzXs]="24" style="margin-top: 10px;">\n      <div style="padding: 5px;">\n      <nz-table #basicTable nzBordered [nzData]="listOfData" [nzFrontPagination]="false"  nzShowPagination="false" nzScroll="{ x: \'300px\', y: \'300px\' }">\n        <thead>\n          <tr>\n            <th nzAlign="center">\u77e5\u8bc6\u540d\u79f0</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor="let data of basicTable.data">\n            <td nzAlign="center">{{data.knowledgeTitle || \'-\'}}</td>\n          </tr>\n        </tbody>\n      </nz-table>\n      </div>\n      \x3c!-- \u6dfb\u52a0\u5173\u8054\u77e5\u8bc6 --\x3e\n      <a nz-button nzType="default" style="margin-top: 10px;margin-right: 15px;margin-bottom: 10px;" (click)="openKnowledge()"><i nz-icon type="edit"></i>\u7f16\u8f91\u5173\u8054\u77e5\u8bc6</a>\n    </div>\n  </nz-form-item>\n</div>\n\n\n<nz-modal nzClassName="knowledge" nzWidth="800px" [(nzVisible)]="isVisible" [nzTitle]="ass_title" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">\n  <div style="overflow-y: auto;max-height: 650px;padding: 10px;position: relative;">\n    \x3c!-- \u7a7f\u68ad\u6846 --\x3e\n    <div style="position: relative;" *ngIf="dataList.length !==0">\n        <div *ngIf="transferDisabled === true" class="eloading">\n          <i style="position: absolute;top: 50%;left: 50%;transform:translate(-50%,-50%);color: red;font-size: 50px;" nz-icon nzType="loading" nzTheme="outline"></i>\n        </div>\n        <p style="color: red;">\u6ce8\uff1a\u5173\u8054\u77e5\u8bc6\u6700\u591a\u9009\u62e95\u6761!</p>\n        <nz-transfer\n        [nzDataSource]="dataList"\n        [nzShowSelectAll]="false"\n        [nzRenderList]="[renderList, renderList, renderList]"\n        (nzSelectChange)="transferSelect($event)"\n        (nzChange)="transferChange($event)"\n        nzShowSearch\n        nzSearchPlaceholder="\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"\n        [nzFilterOption]="filterOption"\n        (nzSearchChange)="transferSearch($event)"\n      >\n        <ng-template\n          #renderList\n          let-items\n          let-direction="direction"\n          let-stat="stat"\n          let-onItemSelectAll="onItemSelectAll"\n          let-onItemSelect="onItemSelect"\n        >\n          <nz-table #t [nzData]="convertItems(items)" nzSize="small">\n            <thead>\n              <tr>\n                <th\n                  [nzChecked]="stat.checkAll"\n                  [nzIndeterminate]="stat.checkHalf"\n                  (nzCheckedChange)="onItemSelectAll($event)"\n                ></th>\n                <th nzAlign="center" nzWidth="300px">\u95ee\u9898</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor="let data of t.data" (click)="onItemSelect(data)">\n                <td\n                  nzShowCheckbox\n                  [nzChecked]="data.checked"\n                  (nzCheckedChange)="onItemSelect(data)"\n                ></td>\n                <td nzAlign="center" nzWidth="300px">{{ data.knowledgeTitle }}</td>\n              </tr>\n            </tbody>\n          </nz-table>\n        </ng-template>\n        </nz-transfer>\n    </div>\n\n    <nz-empty *ngIf="dataList.length ===0" nzNotFoundContent="\u6682\u65e0\u6570\u636e"></nz-empty>\n  </div>\n</nz-modal>\n')),(0,a.kt)("p",null,"ts"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NzMessageService, TransferItem } from 'ng-zorro-antd';\n\n@Component({\n  selector: 'app-shuttleBox',\n  templateUrl: './shuttleBox.component.html',\n  styleUrls: ['./shuttleBox.component.css'],\n})\nexport class ShuttleBoxComponent implements OnInit {\n  constructor(\n    private router: Router,\n    private message: NzMessageService\n  ) {}\n\n  // \u5173\u8054\u77e5\u8bc6\n  listOfData = [];\n  // \u663e\u793a\u5bf9\u8bdd\u6846\n  isVisible = false;\n  ass_title = '\u5173\u8054\u77e5\u8bc6';\n  // \u4e00\u7ea7\u5206\u7c7b\u540d\n  gameValue = undefined;\n  gameList = [];\n  // \u7a7f\u68ad\u6846\u5217\u8868\n  dataList = [\n    {\n      knowledgeTitle: '\u7ec8\u8eab\u5361\u6ca1\u6709\u5230\u8d26\u7684',\n      knowledgeContent:\n        '<p>\u5148\u786e\u8ba4\u4e0b\u4e2a\u4eba\u4e2d\u5fc3\u91cc\u9762\u662f\u5426\u6709\u8865\u5355\u663e\u793a\uff0c\u6709\u7684\u8bdd\u81ea\u884c\u64cd\u4f5c\u8865\u5355\u5373\u53ef\u54e6\uff1b\u5982\u679c\u6ca1\u6709\u4e2a\u4eba\u4e2d\u5fc3\u7684\uff0c\u53ef\u4ee5\u91cd\u65b0\u62c9\u8d77\u4e0b\u5bf9\u5e94\u5145\u503c\u7684\u6863\u4f4d\uff08\u4e0d\u9700\u8981\u518d\u6b21\u652f\u4ed8\u54e6\uff09\u7136\u540e\u91cd\u542f\u624b\u673a\u91cd\u65b0\u8fdb\u5165\u6e38\u620f\u5373\u53ef\uff1b\u8fd8\u662f\u6ca1\u6709\u89e3\u51b3\u7684\u53ef\u4ee5\u63d0\u4f9b\u5145\u503c\u6263\u8d39\u7684\u8ba2\u5355\u8054\u7cfb\u5ba2\u670d\u53cd\u9988\u54e6\uff01</p>',\n      knowledgeStatus: 1,\n      toppingType: 3,\n      knowledgeId: '2538',\n      robotNum: 0,\n      visitNum: 30,\n      likeNum: 1,\n      helpfulNum: 0,\n      uselessNum: 8,\n      direction: 'left',\n      checked: false,\n    },\n    {\n      knowledgeTitle: '\u554a\u867d\u7136\u5927\u5bb6\u5580\u4ec0\u5730\u65b9',\n      knowledgeContent:\n        '<p>\u5148\u786e\u8ba4\u4e0b\u4e2a\u4eba\u4e2d\u5fc3\u91cc\u9762\u662f\u5426\u6709\u8865\u5355\u663e\u793a\uff0c\u6709\u7684\u8bdd\u81ea\u884c\u64cd\u4f5c\u8865\u5355\u5373\u53ef\u54e6\uff1b\u5982\u679c\u6ca1\u6709\u4e2a\u4eba\u4e2d\u5fc3\u7684\uff0c\u53ef\u4ee5\u91cd\u65b0\u62c9\u8d77\u4e0b\u5bf9\u5e94\u5145\u503c\u7684\u6863\u4f4d\uff08\u4e0d\u9700\u8981\u518d\u6b21\u652f\u4ed8\u54e6\uff09\u7136\u540e\u91cd\u542f\u624b\u673a\u91cd\u65b0\u8fdb\u5165\u6e38\u620f\u5373\u53ef\uff1b\u8fd8\u662f\u6ca1\u6709\u89e3\u51b3\u7684\u53ef\u4ee5\u63d0\u4f9b\u5145\u503c\u6263\u8d39\u7684\u8ba2\u5355\u8054\u7cfb\u5ba2\u670d\u53cd\u9988\u54e6\uff01</p>',\n      knowledgeStatus: 1,\n      toppingType: 3,\n      knowledgeId: '2538',\n      robotNum: 0,\n      visitNum: 30,\n      likeNum: 1,\n      helpfulNum: 0,\n      uselessNum: 8,\n      direction: 'left',\n      checked: false,\n    },\n    {\n      knowledgeTitle: '\u5982\u4f55\u83b7\u5f97\u5151\u6362\u7801',\n      knowledgeContent:\n        '\u5151\u6362\u7801\u9700\u8981\u5c0f\u4e3b\u5173\u6ce8\u5fae\u4fe1\u516c\u4f17\u53f7\uff1a\u82b1\u4e4b\u821eH5\uff08\u6709\u65f6\u5019\u4f1a\u6709\u5151\u6362\u7801\u7684\u6587\u7ae0\u63a8\u9001\u5373\u53ef\u5f97\u5230\uff09\uff0c\u6216\u8005\u5728\u82b1\u4e4b\u821e\u8bba\u575b\u9886\u53d6\u54e6\uff0c\u4f1a\u4e0d\u5b9a\u65f6\u66f4\u65b0\u7684',\n      knowledgeStatus: 1,\n      toppingType: 1,\n      knowledgeId: '1154',\n      robotNum: 0,\n      visitNum: 0,\n      likeNum: 0,\n      helpfulNum: 0,\n      uselessNum: 0,\n      direction: 'left',\n      checked: false,\n    },\n    {\n      knowledgeTitle: '\u5982\u4f55\u83b7\u5f97\u8bf7\u5e16',\n      knowledgeContent: '\u5546\u57ce\u8d2d\u4e70\u6216\u8005\u6d3b\u52a8\u83b7\u53d6\u54e6',\n      knowledgeStatus: 1,\n      toppingType: 1,\n      knowledgeId: '1153',\n      robotNum: 0,\n      visitNum: 0,\n      likeNum: 0,\n      helpfulNum: 0,\n      uselessNum: 0,\n      direction: 'left',\n      checked: false,\n    },\n    {\n      knowledgeTitle: '\u63d0\u5347\u60c5\u8c0a\u9700\u8981\u7684\u9053\u5177,\u4ee5\u53ca\u77e5\u5df1\u7684\u5c5e\u6027\u600e\u4e48\u83b7\u5f97?',\n      knowledgeContent:\n        '\u98de\u9e3d\u4f20\u4e66\u53ef\u4ee5\u63d0\u5347\u77e5\u5df1\u7684\u5c5e\u6027,\u7687\u5bb6\u82d1\u56ff\u53f3\u4e0b\u89d2\u7684\u79ef\u5206\u5151\u6362\u53ef\u4ee5\u5151\u6362\u63d0\u5347\u77e5\u5df1\u5c5e\u6027\u548c\u60c5\u8c0a\u7684\u9053\u5177',\n      knowledgeStatus: 1,\n      toppingType: 1,\n      knowledgeId: '1152',\n      robotNum: 0,\n      visitNum: 0,\n      likeNum: 0,\n      helpfulNum: 0,\n      uselessNum: 0,\n      direction: 'left',\n      checked: false,\n    },\n    {\n      knowledgeTitle: '\u4e3a\u4ec0\u4e48\u63d0\u5347\u77e5\u5df1\u7684\u60c5\u8c0a\u589e\u52a0\u7684\u52bf\u529b\u4e0e\u663e\u793a\u7684\u4e0d\u540c?',\n      knowledgeContent:\n        '\u63d0\u5347\u60c5\u8c0a\u7b49\u7ea7\u589e\u52a0\u7684\u52bf\u529b\u5df2\u5305\u62ec\u524d\u4e00\u7b49\u7ea7\u60c5\u8c0a\u6240\u589e\u52a0\u7684\u52bf\u529b,\u56e0\u6b64\u9700\u8981\u6263\u9664\u524d\u4e00\u7b49\u7ea7\u60c5\u8c0a\u6240\u589e\u52a0\u7684\u52bf\u529b',\n      knowledgeStatus: 1,\n      toppingType: 1,\n      knowledgeId: '1151',\n      robotNum: 0,\n      visitNum: 0,\n      likeNum: 0,\n      helpfulNum: 0,\n      uselessNum: 0,\n      direction: 'left',\n      checked: false,\n    },\n  ];\n  transferDisabled = false;\n  // \u7a7f\u68ad\u6846\uff0c\u4f20\u8fc7\u6765\u7684\u503c\n  transferRightList = [];\n\n  title = '\u65b0\u589e\u77e5\u8bc6';\n\n  // \u6253\u5f00\u5173\u8054\u77e5\u8bc6\n  openKnowledge(): void {\n    this.isVisible = true;\n\n    // // this.assValue = undefined;\n    // if (this.title === '\u7f16\u8f91\u77e5\u8bc6') {\n    //   // \u5173\u8054\u77e5\u8bc6\u5bf9\u8bdd\u6846\u7684\u4e00\u7ea7\u5206\u7c7b\n    //   this.transferDisabled = true;\n    //   // 1.\u628a\u9009\u4e2d\u7684\u5173\u8054\u77e5\u8bc6\u5217\u8868\u8d4b\u503c\u5230\u7a7f\u68ad\u6846\u53f3\u8fb9\n    //   // 2.\u83b7\u53d6\u6240\u6709\u4e00\u7ea7\u5206\u7c7b\u7684\u6240\u6709\u95ee\u9898\n    //   console.log(this.dataList);\n\n    //   for (const item of this.dataList) {\n    //     for (const j of this.listOfData) {\n    //       if (j.knowledgeId === item.knowledgeId) {\n    //         item.direction = 'right';\n    //       }\n    //     }\n    //   }\n    // }\n  }\n\n  // \u5173\u8054\u77e5\u8bc6\u786e\u8ba4\n  handleOk(): void {\n    this.isVisible = false;\n    this.listOfData = this.transferRightList;\n  }\n\n  // \u5173\u8054\u77e5\u8bc6\u53d6\u6d88\n  handleCancel(): void {\n    // console.log('Button cancel clicked!');\n    this.isVisible = false;\n    if (this.title === '\u65b0\u589e\u77e5\u8bc6') {\n      this.gameValue = undefined;\n      this.transferRightList = [];\n    }\n  }\n\n  convertItems(items: TransferItem[]): TransferItem[] {\n    return items.filter((i) => !i.hide);\n  }\n\n  filterOption(inputValue: string, item: any): boolean {\n    return item.knowledgeTitle.indexOf(inputValue) > -1;\n  }\n\n  // \u9009\u62e9\u7684\u56de\u8c03\u51fd\u6570\n  transferSelect(event): void {\n    // console.log('transferSelect', event);\n    let data = event.list;\n    if (data) {\n      // console.log(this.transferRightList.length)\n      if (event.direction === 'left' && event.checked === true) {\n        let num = this.transferRightList.length + data.length;\n        if (num > 5) {\n          this.message.create('warning', '\u5173\u8054\u77e5\u8bc6\u4e0d\u8d85\u8fc75\u4e2a');\n          if (this.dataList) {\n            for (const item of this.dataList) {\n              item.checked = false;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // \u7a7f\u68ad\u6846\uff0c\u4f20\u8fc7\u6765\u7684\u503c\n  transferChange(event): void {\n    // console.log('transferChange',event);\n    if (event.from === 'left' && event.to === 'right') {\n      let newData = [...this.transferRightList, ...event.list];\n      let arr1 = Array.from(new Set(newData));\n      // console.log(arr1)\n      let selectData = [];\n      if (arr1) {\n        for (const item of arr1) {\n          if (this.title === '\u65b0\u589e\u77e5\u8bc6' && item.direction === 'right') {\n            selectData.push(item);\n          } else if (this.title === '\u7f16\u8f91\u77e5\u8bc6') {\n            selectData.push(item);\n          }\n        }\n      }\n\n      this.transferRightList = selectData.filter((x, index, self) => {\n        let arrids = [];\n        newData.forEach((item, i) => {\n          arrids.push(item.knowledgeId);\n        });\n        return arrids.indexOf(x.knowledgeId) === index;\n      });\n\n      // console.log(this.transferRightList)\n    } else if (event.from === 'right' && event.to === 'left') {\n      let arr1 = this.transferRightList.filter((item) =>\n        event.list.some((ele) => ele.knowledgeId !== item.knowledgeId)\n      );\n      // console.log(arr1)\n      let arr2 = [];\n      for (const item of arr1) {\n        if (this.title === '\u65b0\u589e\u77e5\u8bc6' && item.direction === 'right') {\n          arr2.push(item);\n        } else if (this.title === '\u7f16\u8f91\u77e5\u8bc6') {\n          for (const j of event.list) {\n            if (item.knowledgeId === j.knowledgeId) {\n              item.direction = 'left';\n            }\n          }\n          if (item.direction !== 'left') {\n            arr2.push(item);\n          }\n        }\n      }\n\n      this.transferRightList = arr2;\n      // console.log(this.transferRightList)\n      // console.log(this.listOfData)\n    }\n\n    // this.listOfData = this.transferRightList\n  }\n\n  // \u7a7f\u68ad\u6846\u641c\u7d22\u7684\u67e5\u8be2\n  transferSearch(event): void {\n    // console.log('transferSearch', event);\n  }\n\n  ngOnInit() {\n    \n  }\n}\n\n")),(0,a.kt)("p",null,"css"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-css"},"::ng-deep .cdk-overlay-pane .knowledge>>>.ant-modal-body {\n  padding: 15px 5px 15px 0 !important;\n}\n\n")))}g.isMDXComponent=!0}}]);