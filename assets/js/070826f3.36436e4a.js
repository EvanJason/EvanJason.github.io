"use strict";(self.webpackChunklwl_docusaurus_website=self.webpackChunklwl_docusaurus_website||[]).push([[1790],{3905:(e,n,l)=>{l.d(n,{Zo:()=>m,kt:()=>g});var t=l(7294);function a(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function r(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),l.push.apply(l,t)}return l}function o(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?r(Object(l),!0).forEach((function(n){a(e,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))}))}return e}function u(e,n){if(null==e)return{};var l,t,a=function(e,n){if(null==e)return{};var l,t,a={},r=Object.keys(e);for(t=0;t<r.length;t++)l=r[t],n.indexOf(l)>=0||(a[l]=e[l]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)l=r[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}var i=t.createContext({}),c=function(e){var n=t.useContext(i),l=n;return e&&(l="function"==typeof e?e(n):o(o({},n),e)),l},m=function(e){var n=c(e.components);return t.createElement(i.Provider,{value:n},e.children)},s="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var l=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,m=u(e,["components","mdxType","originalType","parentName"]),s=c(l),d=a,g=s["".concat(i,".").concat(d)]||s[d]||p[d]||r;return l?t.createElement(g,o(o({ref:n},m),{},{components:l})):t.createElement(g,o({ref:n},m))}));function g(e,n){var l=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=l.length,o=new Array(r);o[0]=d;var u={};for(var i in n)hasOwnProperty.call(n,i)&&(u[i]=n[i]);u.originalType=e,u[s]="string"==typeof e?e:a,o[1]=u;for(var c=2;c<r;c++)o[c]=l[c];return t.createElement.apply(null,o)}return t.createElement.apply(null,l)}d.displayName="MDXCreateElement"},312:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>u,toc:()=>c});var t=l(7462),a=(l(7294),l(3905));const r={title:"vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406",categories:["Vue","el-table"],tags:["Vue","el-table"],date:"2024-07-11",author:"\u6df1\u6d77\u5982\u68a6",excerpt:"vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406"},o=void 0,u={unversionedId:"Vue/vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406",id:"Vue/vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406",title:"vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406",description:"thMergeData\u591a\u7ea7\u8868\u5934\u6570\u636e",source:"@site/docs/Vue/vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406.md",sourceDirName:"Vue",slug:"/Vue/vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406",permalink:"/docs/Vue/vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406",draft:!1,editUrl:"https://github.com/evanjason/evanjason.github.io/tree/main/docs/Vue/vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406.md",tags:[{label:"Vue",permalink:"/docs/tags/vue"},{label:"el-table",permalink:"/docs/tags/el-table"}],version:"current",frontMatter:{title:"vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406",categories:["Vue","el-table"],tags:["Vue","el-table"],date:"2024-07-11",author:"\u6df1\u6d77\u5982\u68a6",excerpt:"vue2 el-table \u52a8\u6001\u591a\u7ea7\u8868\u5934\u5904\u7406"},sidebar:"tutorialSidebar",previous:{title:"vue2 echart\u901a\u7528\u7ec4\u4ef6\u5c01\u88c5",permalink:"/docs/Vue/vue2 echart\u901a\u7528\u7ec4\u4ef6\u5c01\u88c5"},next:{title:"vue2 element-ui el-cascader\u591a\u9009\u6837\u5f0f\u4f18\u5316",permalink:"/docs/Vue/vue2 element-ui el-cascader\u591a\u9009\u6837\u5f0f\u4f18\u5316"}},i={},c=[{value:"thMergeData\u591a\u7ea7\u8868\u5934\u6570\u636e",id:"thmergedata\u591a\u7ea7\u8868\u5934\u6570\u636e",level:2},{value:"thList \u6570\u636e",id:"thlist-\u6570\u636e",level:2},{value:"\u5904\u7406\u65b9\u6cd5",id:"\u5904\u7406\u65b9\u6cd5",level:2},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:2},{value:"\u5408\u5e76\u884c\u6216\u5217\u65b9\u6cd5",id:"\u5408\u5e76\u884c\u6216\u5217\u65b9\u6cd5",level:2}],m={toc:c},s="wrapper";function p(e){let{components:n,...l}=e;return(0,a.kt)(s,(0,t.Z)({},m,l,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"thmergedata\u591a\u7ea7\u8868\u5934\u6570\u636e"},"thMergeData\u591a\u7ea7\u8868\u5934\u6570\u636e"),(0,a.kt)("p",null,'{\n"\u6307\u6807\u5747\u503c": ','[\n"mean_457-1004",\n"mean_457-1005"\n]',',\n"\u53d8\u5316\u503c|\u53d8\u5316\u6bd4\u4f8b": ','[\n"change_457-1004",\n"change_457-1005"\n]',',\n"P-value|95%\u7f6e\u4fe1\u533a\u95f4|\u7edf\u8ba1\u529f\u6548": ','[\n"stat_457-1004",\n"stat_457-1005"\n]',"\n}"),(0,a.kt)("h2",{id:"thlist-\u6570\u636e"},"thList \u6570\u636e"),(0,a.kt)("p",null,'[\n{\n"name": "\u6307\u6807",\n"name1": null,\n"name2": null,\n"field": "index",\n"fixedFlag": null,\n"sortFlag": null,\n"valueType": 2,\n"trMergeFlag": null,\n"columnIndex": null,\n"extJson": null,\n"catName": null\n},\n{\n"name": "\u5bf9\u7167\u7ec4",\n"name1": null,\n"name2": null,\n"field": "mean_457-1004",\n"fixedFlag": null,\n"sortFlag": null,\n"valueType": 2,\n"trMergeFlag": null,\n"columnIndex": null,\n"extJson": null,\n"catName": "\u6307\u6807\u5747\u503c"\n},\n{\n"name": "\u5bf9\u7167\u7ec4",\n"name1": null,\n"name2": null,\n"field": "change_457-1004",\n"fixedFlag": null,\n"sortFlag": null,\n"valueType": 2,\n"trMergeFlag": null,\n"columnIndex": null,\n"extJson": null,\n"catName": "\u53d8\u5316\u503c|\u53d8\u5316\u6bd4\u4f8b"\n},\n{\n"name": "\u5bf9\u7167\u7ec4",\n"name1": null,\n"name2": null,\n"field": "stat_457-1004",\n"fixedFlag": null,\n"sortFlag": null,\n"valueType": 2,\n"trMergeFlag": null,\n"columnIndex": null,\n"extJson": null,\n"catName": "P-value|95%\u7f6e\u4fe1\u533a\u95f4|\u7edf\u8ba1\u529f\u6548"\n},\n{\n"name": "\u5b9e\u9a8c\u7ec41",\n"name1": null,\n"name2": null,\n"field": "mean_457-1005",\n"fixedFlag": null,\n"sortFlag": null,\n"valueType": 2,\n"trMergeFlag": null,\n"columnIndex": null,\n"extJson": null,\n"catName": "\u6307\u6807\u5747\u503c"\n},\n{\n"name": "\u5b9e\u9a8c\u7ec41",\n"name1": null,\n"name2": null,\n"field": "change_457-1005",\n"fixedFlag": null,\n"sortFlag": null,\n"valueType": 2,\n"trMergeFlag": null,\n"columnIndex": null,\n"extJson": null,\n"catName": "\u53d8\u5316\u503c|\u53d8\u5316\u6bd4\u4f8b"\n},\n{\n"name": "\u5b9e\u9a8c\u7ec41",\n"name1": null,\n"name2": null,\n"field": "stat_457-1005",\n"fixedFlag": null,\n"sortFlag": null,\n"valueType": 2,\n"trMergeFlag": null,\n"columnIndex": null,\n"extJson": null,\n"catName": "P-value|95%\u7f6e\u4fe1\u533a\u95f4|\u7edf\u8ba1\u529f\u6548"\n}\n]'),(0,a.kt)("h2",{id:"\u5904\u7406\u65b9\u6cd5"},"\u5904\u7406\u65b9\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"handleColumnData(thMergeData, thList) {\n  let list = []\n  let mergeMap = _.cloneDeep(thMergeData || {})\n\n  if (Object.keys(mergeMap).length > 0) {\n    // \u521b\u5efa\u4e00\u4e2a\u6620\u5c04\uff0c\u4ee5\u52a0\u901f\u67e5\u627e\n    const mergeMapLookup = new Map(Object.entries(mergeMap))\n    // console.log('\ud83d\udc96 ~ file: index.vue:146 ~ handleColumnData ~ mergeMapLookup:', mergeMapLookup)\n\n    // \u5c06 thList \u8f6c\u6362\u4e3a Map \u4ee5\u52a0\u901f\u67e5\u627e\n    const thMap = new Map(thList.map((item) => [item.field, item]))\n    // console.log(\"\ud83d\udc96 ~ file: index.vue:149 ~ handleColumnData ~ thMap:\", thMap)\n\n    // \u6839\u636e mergeMap \u7ec4\u7ec7\u5217\n    for (const [groupName, items] of mergeMapLookup) {\n      const children = items.map((name) => thMap.get(name))\n      if (children.length > 0) {\n        list.push({\n          name: groupName,\n          children: children.filter((item) => item !== undefined), // \u8fc7\u6ee4\u6389\u672a\u627e\u5230\u7684\u9879\n        })\n      }\n    }\n\n    // \u5904\u7406\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u5206\u7ec4\u7684\u5217\n    for (const [name, item] of thMap) {\n      if (!mergeMapLookup.has(item.catName)) {\n        list.unshift({ name: '', children: [item] })\n      }\n    }\n  }\n\n  this.tableColumn = list\n},\n")),(0,a.kt)("p",null,"\u7136\u540e\u8fdb\u884c\u6e32\u67d3"),(0,a.kt)("h2",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'        <el-table v-if="!loading" size="mini" max-height="300" :data="tableData" :span-method="objectSpanMethod">\n          <el-table-column\n            :resizable="false"\n            show-overflow-tooltip\n            align="center"\n            v-for="(mergeItem, mergeIndex) in tableColumn"\n            :key="mergeIndex"\n            :prop="mergeItem.name"\n            :label="mergeItem.name"\n          >\n            <el-table-column\n              :resizable="false"\n              show-overflow-tooltip\n              v-for="(item, index) in mergeItem.children"\n              :key="index"\n              :label="item.name"\n              :prop="item.field"\n            >\n              <template slot="header" slot-scope="scope">\n                <div class="flex flex-align-center">\n                  <div>{{ item.name }}</div>\n                </div>\n              </template>\n              <template slot-scope="scope">\n                <div class="flex flex-align-center" :class="handleDataRender(scope.row.tdData[item.field], \'v3\') !== \'-\' ? \'linkClass\' : \'\'">\n                  <div :style="{ color: handleColorData(scope.row.tdData[item.field]) }" @click="(e) => handleScroll(e, scope.row.tdData[item.field])">\n                    {{ handleDataRender(scope.row.tdData[item.field], \'v\') }}\n                  </div>\n                </div>\n              </template>\n            </el-table-column>\n          </el-table-column>\n        </el-table>\n')),(0,a.kt)("h2",{id:"\u5408\u5e76\u884c\u6216\u5217\u65b9\u6cd5"},"\u5408\u5e76\u884c\u6216\u5217\u65b9\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    /** \u5408\u5e76\u8868\u683c\u884c\u6216\u5217 */\n    objectSpanMethod({ row, column, rowIndex, columnIndex }) {\n      const list = _.cloneDeep(this.mergeList)\n      for (let i = 0; i < list.length; i++) {\n        let el = list[i]\n        if (columnIndex === el.columnIndex) {\n          if (el.rowIndex == rowIndex) {\n            return {\n              rowspan: el.rowSpan,\n              colspan: 1,\n            }\n          } else if (rowIndex > el.rowIndex && el.rowIndex + el.rowSpan > rowIndex) {\n            return {\n              rowspan: 0,\n              colspan: 0,\n            }\n          }\n        }\n      }\n    },\n")))}p.isMDXComponent=!0}}]);